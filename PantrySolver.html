
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Last Will Pantry Puzzle Solver</title>

<!-- Bootstrap -->
<link href="css/bootstrap.css" rel="stylesheet">

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<a href="https://github.com/meekee7/LastWillSolver/tree/gh-pages"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://camo.githubusercontent.com/82b228a3648bf44fc1163ef44c62fcc60081495e/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_left_red_aa0000.png"></a>
<div class="wrapper container-fluid">
  <div class="row">
    <div class="col-md-6 text-center col-lg-offset-4 col-lg-4">
      <h1 class="text-center" href="index.html"><a href="index.html"> Last Will - Puzzle Solvers </a></h1>
        <h2>Pantry</h2>
    </div>
  </div>
  <hr>
</div>
<div class="container">
  <div class="row text-center">
    <div class="col-md-6 col-md-offset-3 col-lg-offset-0 col-lg-12"><strong>Instructions</strong> <br>
    Built the numbers with the objects.<br>
    If it has five digits built it directly, otherwise factorize it first.<br>
	Press the button above the number to check.<br>
<br>
Apple: 1<br>
Bowl: 3<br>
Fork: 4<br>
Tower: &middot; (multiply)
 </div><br>
      <strong><font color="red"><noscript>JavaScript is required to run this solver. In your browser JavaScript is disabled or unsupported. Please enable JavaScript or try a different browser.</noscript></font></strong>
  </div>
  <hr>
  <div class="row table-bordered">
    <div class="text-center">
    <div class="col-sm-2 col-sm-offset-5">
    <label for="anagraminput">Number:</label>
  <input type="number" id="numberinput" style="text-align:center" class="form-control" aria-describedby="addon1" autocomplete="off" autocorrect="off" autocapitalize="off" onInput="factorize()">     
  </div>
     <div class="text-center col-md-6 col-md-offset-3" id="solutiontxt"> 
     <br><br>
   </div>
  </div>
  </div>
</div>
<script>

function getObject(num){
	if (num == 1)
		return "apple";
	if (num == 3)
		return "bowl";
	if (num == 4)
		return "fork";	
	return "error";
}

function digitize(num){
	var result = [];
	var numar = Array.from("" + num);
	for (var i=0; i<numar.length; i++){
		var objstring = getObject(numar[i]);
		if (objstring == "error")
			return "error";
		result.push(objstring);
	}
	return result.join(" ");	
}

function Pair(a, b){
	this.a = a;
	this.b = b;
}

Pair.prototype.toSolString = function(){
	var numstring = this.a + " &middot " + this.b;
	var astring = digitize(this.a);
	var bstring = digitize(this.b);
	if (astring == "error" || bstring == "error")
		return numstring + " | " + "NOT FITTING";
	else
		return numstring + " | " + astring + " tower " + bstring;
}

Pair.prototype.toString = function(){
	return this.toSolString();
	//return this.a + ", " + this.b;
}

function factorize(){
	var text = document.getElementById("numberinput").value;
	if (text.length == 0){
		document.getElementById("solutiontxt").innerHTML = "<br><br>";
		return;
	}
	if (isNaN(text) || text.indexOf(".") != -1){
		document.getElementById("solutiontxt").innerHTML = "<br><font color=\"red\">Error: input is not an integer number</font>";
		return;
	}
	var number = text;
	if (number >= 10000){
		var digitized = digitize(number);
		if (digitized == "error")
			digitized = "NOT FITTING";
		document.getElementById("solutiontxt").innerHTML = "<br>" + text + " | " + digitized;
		return;
	}
	
	var pairs = [];
	for (var i=1; i<=Math.sqrt(number); i++){
		if (number % i == 0)
			pairs.push(new Pair(i, number / i)); 
	}
	
	document.getElementById("solutiontxt").innerHTML = "<br>" + pairs.join(" <br> ");
}
</script>
<hr>
<div class="row">
  <div class="text-center col-md-6 col-md-offset-3">
    <h4><!--TODO FOOTER--></h4>
    <a href="http://lastwill.gg/"> Last Will is a game by Lizard Factory </a>
    <p>Copyright &copy; 2016 &middot; All Rights Reserved &middot;</p>
  </div>
</div>
<hr>
<!--</div>-->
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) --> 
<script src="js/jquery-1.11.3.min.js"></script> 

<!-- Include all compiled plugins (below), or include individual files as needed --> 
<script src="js/bootstrap.js"></script>
</body>
</html>
